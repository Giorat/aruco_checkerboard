{"version":3,"sources":["node_modules/aruco-marker/aruco-marker.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["findGetParameter","parameterName","result","tmp","items","window","location","search","substr","split","index","length","decodeURIComponent","ArucoMarker","require","markerCont","document","createElement","startFrom","startParam","parseInt","widthPrint","maxWidth","widthMarker","heightPrint","maxHeight","Math","round","alert","j","i","markerId","myMarker","svgImage","toSVG","markerSvg","id","style","filter","innerHTML","appendChild","getElementById","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","updateLink","link","newLink","cloneNode","onload","remove","href","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module"],"mappings":"AEAA,ACAA,IDAI0C,ACAAY,MAAM,GDAG,ACAAxC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;AHAA;AACA,AEAA,ACCA,AFFA,SCCS6B,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AFC9B,AEAE,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;AHAF,AEAIhB,ADDJ,ICCIA,KDDK1C,ICCI,GAAG4C,SDDhB,CAA0B3C,ECCE,EAAxB,SDDJ,EAAyC;ADEzC,AEAG,ACADwD,AFDA,EECAA,IFDIvD,GECG,CAACyD,EFDE,GAAG,CECb,GAAiB,AFDjB,YEC6B;AHC/B,AGAIH,AFFF,IEEEA,EFDArD,EECI,CAACyD,AFDF,GAAG,EADR,CEEE;AHCJ,AEAE,ACAC,AFDD,GEDA,GFCIxD,GCCGsC,EDDE,GAAGrC,ICCZ,EDDkB,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuC,GAAvC,CAAZ;ADEF,AEAC;AFCD,AGDEgD,AFDA,EECAA,KFDK,EECE,CAACI,CFDCnD,GECT,EFDc,CECC8C,EFDE,CAAjB,CECmB,CAACK,AFDAnD,IECL,CAAUD,AFDA,GAAGL,EECb,CAAgB,EFDE,CEClB,AFDmBO,EECE,CAArB,GFDf,CECyC,CFDCD,EEC3B,GAAgCoD,AFDA,EAA/C,EECmD,AFDA,CECCC,GAAL,EAA/C;AHEF,AEAA,ACDEP,AFDErD,EECFqD,EFDErD,EECE,CAAC6D,AFDA,ECEEpB,CDFCxC,KAAK,CAACM,CECd,CAAgBuD,GDClB,ADFe,CAAL,CAAaxD,CCEC,IDFd,CAAmB,CEC3B,CAA6BgD,CFDrB,CAAN,KECF,EAAsCD,IAAI,CAACU,WAA3C;AHEF,AEAE,ACDD,AFDG,QAAI/D,GAAG,CAAC,CAAD,CAAH,KAAWF,aAAf,EAA8BC,MAAM,GAAGU,kBAAkB,CAACT,GAAG,CAAC,CAAD,CAAJ,CAA3B;ADGlC,AEAE,ADFC,MCEG;AFCN,AEAI,ACDJ,IAAIgE,MDCM,IAAItB,ACDA,GAAG,EDCP,EAAN,ACDJ;A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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["// Export for use via AMD, Node.js, or a browser global.\n// See https://github.com/umdjs/umd/blob/master/returnExportsGlobal.js\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], function () {\n      return (root.ArucoMarker = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals\n    root.ArucoMarker = factory();\n  }\n}(this, function () {\n\n  // Create an ArucoMarker object by its ID, which can then be used to generate images.\n  // The id must be in the range [0..1023]\n  // Based on https://github.com/rmsalinas/aruco/blob/master/trunk/src/arucofidmarkers.cpp\n  function ArucoMarker(id) {\n    if (id < 0 || id > 1023) {\n      throw new RangeError('Marker ID must be in the range [0..1023]');\n    }\n\n    this.id = id;\n  }\n\n  ArucoMarker.prototype = {\n    // Generate a marker as a 5x5 matrix of 0s and 1s.\n    markerMatrix: function() {\n      var ids = [16, 23, 9, 14];\n      var index, val, x, y;\n      var marker = [[0, 0, 0, 0, 0],\n                 [0, 0, 0, 0, 0],\n                 [0, 0, 0, 0, 0],\n                 [0, 0, 0, 0, 0],\n                 [0, 0, 0, 0, 0]];\n\n      for (y = 0; y < 5; y++) {\n        index = (this.id >> 2 * (4 - y)) & 3;\n        val = ids[index];\n        for (x = 0; x < 5; x++) {\n          if ((val >> (4 - x)) & 1) {\n            marker[x][y] = 1;\n          } else {\n            marker[x][y] = 0;\n          }\n        }\n      }\n\n      return marker;\n    },\n\n    // Create an SVG image of the marker, as a string.\n    // Optionally pass a size (in any SVG-compatible units) or leave it out to size it on your own.\n    toSVG: function(size) {\n      var x, y;\n      var marker = this.markerMatrix();\n      var image;\n\n      if (size) {\n        size = 'height=\"' + size + '\" width=\"' + size + '\"';\n      } else {\n        size = '';\n      }\n\n      image = '<svg ' + size + ' viewBox=\"0 0 7 7\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\n        '  <rect x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"black\"/>\\n';\n\n      for (y = 0; y < 5; y++) {\n        for (x = 0; x < 5; x++) {\n          if (marker[x][y] === 1) {\n            image += '  <rect x=\"' + (x + 1) + '\" y=\"' + (y + 1) +\n              '\" width=\"1\" height=\"1\" fill=\"white\" ' +\n              // Slight stroke to get around aliasing issues with adjacent rectangles\n              'stroke=\"white\" stroke-width=\"0.01\" />\\n';\n          }\n        }\n      }\n\n      image += '</svg>';\n\n      return image;\n    }\n  };\n\n  return ArucoMarker;\n}));\n","import \"./styles.css\";\n\nfunction findGetParameter(parameterName) {\n  var result = null,\n    tmp = [];\n  var items = window.location.search.substr(1).split(\"&\");\n  for (var index = 0; index < items.length; index++) {\n    tmp = items[index].split(\"=\");\n    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n  }\n  return result;\n}\n\nconst ArucoMarker = require(\"aruco-marker\");\n\nlet markerCont = document.createElement(\"div\");\n\nlet startFrom = 0;\n\nconst startParam = parseInt(findGetParameter(\"start\"), 10);\nif (startParam) startFrom = startParam;\n\n// A4: 793 px x 1000 px\nconst widthPrint = 793;\nconst maxWidth = 7;\nconst widthMarker = widthPrint / maxWidth;\nconst heightPrint = 1000;\nconst maxHeight = Math.round(heightPrint / widthMarker);\nalert(\n  \"PRINTED: \" +\n    maxWidth * maxHeight +\n    \" markers - from: \" +\n    startFrom +\n    \" to \" +\n    parseInt(startFrom + maxWidth * maxHeight, 10)\n);\nfor (var j = 0; j < maxWidth; j++) {\n  for (var i = 0; i < maxHeight; i++) {\n    const markerId = startFrom + i + j * maxHeight;\n    //console.log(markerId);\n    const myMarker = new ArucoMarker(markerId);\n    const svgImage = myMarker.toSVG(widthMarker + \"px\"); // the size is optional\n    var markerSvg = document.createElement(\"span\");\n    markerSvg.id = \"marker1\";\n    if ((j % 2 && (i + 1) % 2) || ((j + 1) % 2 && i % 2))\n      markerSvg.style.filter = \"invert(1)\";\n    markerSvg.innerHTML = svgImage;\n    markerCont.appendChild(markerSvg);\n  }\n}\n\ndocument.getElementById(\"marker\").innerHTML = markerCont.innerHTML;\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}